<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>Flight Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/i18next@21.6.2/dist/umd/i18next.min.js"></script>
</head>

<body class="bg-light p-4">

    <div class="container">
        <h2 class="mb-4 fw-bold" id="flightManagement">✈️ Flight Management</h2>

        <div class="d-flex justify-content-between mb-3">
            <div class="input-group w-50">
                <span class="input-group-text"><i class="bi bi-search"></i></span>
                <input type="text" class="form-control" id="searchFlights" placeholder="Search for flights...">
            </div>
            <div>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addFlightModal" id="addFlight">
                    <i class="bi bi-plus-circle"></i> Add Flight
                </button>
                <a href="admin.html" class="btn btn-secondary" id="back">Back</a>
                <select id="languageSelect" onchange="changeLanguage()">
                    <option value="en">English</option>
                    <option value="th">ภาษาไทย</option>
                </select>
            </div>
        </div>

        <!-- Table for Flights -->
        <div class="table-responsive">
            <table class="table table-bordered table-hover bg-white">
                <thead class="table-dark">
                    <tr>
                        <th id="flightCode">Flight Code</th>
                        <th id="departure">Departure</th>
                        <th id="destination">Destination</th>
                        <th id="departureTime">Departure Time</th>
                        <th id="arrivalTime">Arrival Time</th>
                        <th id="price">Price</th>
                        <th id="seatsAvailable">Seats Available</th>
                        <th id="class">Class</th>
                        <th id="manage">Manage</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>

    <!-- Add Flight Modal -->
    <div class="modal fade" id="addFlightModal" tabindex="-1" aria-labelledby="addFlightModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form class="modal-content" id="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addFlightModalLabel">Add New Flight</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label" id="flightCode">Flight Code</label>
                        <input id="iata_code" type="text" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="from" class="form-label d-block" id="departureLabel">Departure</label>
                        <select id="from" class="form-select">
                            <option disabled selected>Loading...</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="from" class="form-label d-block" id="destinationLabel">Destination</label>
                        <select id="to" class="form-select">
                            <option disabled selected>Loading...</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" id="departureTimeLabel">Departure Time</label>
                        <input id="departure_date" type="datetime-local" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" id="arrivalTimeLabel">Arrival Time</label>
                        <input id="arrival_date" type="datetime-local" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" id="classLabel">Class</label>
                        <select class="form-select" id="class">
                            <option value="Economy">Economy</option>
                            <option value="Business">Business</option>
                            <option value="First Class">First Class</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" id="priceLabel">Price</label>
                        <input id="price" type="text" class="form-control" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" id="saveBtn">Save</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="cancelBtn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/loadFlights.js"></script>
    <script src="/loadAirports.js"></script>
    <script src="/flights.js"></script>
    <script src="/searchBarAdmin.js"></script>
    <script>
        // Initialize i18next
        i18next.init({
            lng: 'en', // default language
            resources: {
                en: {
                    translation: {
                        "flightManagement": "Flight Management",
                        "addFlight": "Add Flight",
                        "searchFlights": "Search for flights...",
                        "back": "Back",
                        "editFlight": "Edit Flight",
                        "save": "Save",
                        "cancel": "Cancel",
                        "flightCode": "Flight Code",
                        "departureTime": "Departure Time",
                        "arrivalTime": "Arrival Time",
                        "price": "Price",
                        "class": "Class",
                        "departure": "Departure",
                        "destination": "Destination",
                        "economy": "Economy",
                        "business": "Business",
                        "firstClass": "First Class",
                        "addNewFlight": "Add New Flight",
                        "seatsAvailable": "Seats Available",
                        "manage": "manage",
                        "flightCodeLabel": "Flight Code"
                        
                    }
                },
                th: {
                    translation: {
                        "flightManagement": "การจัดการเที่ยวบิน",
                        "addFlight": "เพิ่มเที่ยวบิน",
                        "searchFlights": "ค้นหาเที่ยวบิน...",
                        "back": "ย้อนกลับ",
                        "editFlight": "แก้ไขเที่ยวบิน",
                        "save": "บันทึก",
                        "cancel": "ยกเลิก",
                        "flightCode": "รหัสเที่ยวบิน",
                        "departureTime": "เวลาออก",
                        "arrivalTime": "เวลาถึง",
                        "price": "ราคา",
                        "class": "ชั้น",
                        "departure": "ต้นทาง",
                        "destination": "ปลายทาง",
                        "economy": "ชั้นประหยัด",
                        "business": "ธุรกิจ",
                        "firstClass": "ชั้นหนึ่ง",
                        "addNewFlight": "เพิ่มเที่ยวบินใหม่",
                        "seatsAvailable": "ที่นั่งเหลือ",
                        "manage": "จัดการ"
                    }
                }
            }
        });

        // Function to change language
        function changeLanguage() {
            const language = document.getElementById('languageSelect').value;
            i18next.changeLanguage(language, () => {
                document.getElementById('flightCode').textContent = i18next.t('flightCode');
                document.getElementById('departure').textContent = i18next.t('departure');
                document.getElementById('destination').textContent = i18next.t('destination');
                document.getElementById('departureTime').textContent = i18next.t('departureTime');
                document.getElementById('arrivalTime').textContent = i18next.t('arrivalTime');
                document.getElementById('price').textContent = i18next.t('price');
                document.getElementById('class').textContent = i18next.t('class');
                document.getElementById('seatsAvailable').textContent = i18next.t('seatsAvailable');
                document.getElementById('manage').textContent = i18next.t('manage');
                document.getElementById('flightManagement').textContent = i18next.t('flightManagement');
                document.getElementById('addFlight').textContent = i18next.t('addFlight');
                document.getElementById('searchFlights').placeholder = i18next.t('searchFlights');
                document.getElementById('back').textContent = i18next.t('back');
                document.getElementById('editFlightModalLabel').textContent = i18next.t('editFlight');
                document.getElementById('saveBtn').textContent = i18next.t('save');
                document.getElementById('cancelBtn').textContent = i18next.t('cancel');
                document.getElementById('flightCodeLabel').textContent = i18next.t('flightCode');
                document.getElementById('departureTimeLabel').textContent = i18next.t('departureTime');
                document.getElementById('arrivalTimeLabel').textContent = i18next.t('arrivalTime');
                document.getElementById('priceLabel').textContent = i18next.t('price');
                document.getElementById('classLabel').textContent = i18next.t('class');
                document.getElementById('departureLabel').textContent = i18next.t('departure');
                document.getElementById('destinationLabel').textContent = i18next.t('destination');
                document.getElementById('economy').textContent = i18next.t('economy');
                document.getElementById('business').textContent = i18next.t('business');
                document.getElementById('firstClass').textContent = i18next.t('firstClass');
                document.getElementById('addFlightModalLabel').textContent = i18next.t('addNewFlight');
            });
        }
    </script>
</body>

</html>